import{q as p}from"./index.BWYDb4aq.js";function i(r,o=null,t="GET"){return new Promise(async(a,n)=>{let s={};t.toUpperCase()==="GET"||t.toUpperCase()==="DELETE"?o&&(r+="?"+p.stringify(o)):(t.toUpperCase()==="POST"||t.toUpperCase()==="PUT")&&(s={method:t,headers:{"Content-Type":"application/json"}},o&&(s={...s,body:JSON.stringify(o)}));try{(await fetch(r,{mode:"cors",...s})).json().then(e=>{a(e)}).catch(e=>{e.message==="Unexpected end of JSON input"?a({}):n(e)})}catch(e){console.dir(e),n(e)}})}export{i as s};
